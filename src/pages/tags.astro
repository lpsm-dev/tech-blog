---
import { getCollection } from "astro:content";
import BaseTags from "../layouts/BaseTags.astro";
import { PAGE_TAGS_TITLE, PAGE_TAGS_DESCRIPTION } from "../consts";

const posts = await getCollection("blog", ({ data }) => data.publish !== false);
const tags = [...new Set(posts.flatMap((post) => post.data.tags ?? []))];
---

<BaseTags
  title={PAGE_TAGS_TITLE}
  description={PAGE_TAGS_DESCRIPTION}
  tags={tags}
/>
